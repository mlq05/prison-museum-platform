<!--my-certificates.wxml-->
<view class="my-certificates-page">
  <navigation-bar title="æˆ‘çš„è¯ä¹¦" />
  
  <scroll-view 
    class="scroll-content" 
    scroll-y="{{true}}" 
    enable-back-to-top="{{true}}" 
    style="height: {{scrollHeight}};"
    refresher-enabled="{{true}}"
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onPullDownRefresh"
  >
    <view class="scroll-wrapper">
      <!-- è¯ä¹¦åˆ—è¡¨ -->
      <view wx:if="{{!loading && certificates.length > 0}}" class="certificates-list">
        <view 
          class="certificate-item"
          wx:for="{{certificates}}"
          wx:key="id"
          data-id="{{item.id || item._id}}"
          bindtap="onCertificateTap"
        >
          <view class="certificate-item-header">
            <text class="certificate-item-title">{{item.title}}</text>
            <view class="certificate-item-badge {{item.type}}">
              {{item.type === 'game' ? 'é—¯å…³' : item.type === 'visit' ? 'å‚è§‚' : 'æ‰“å¡'}}
            </view>
          </view>
          <view class="certificate-item-content">
            <text class="certificate-item-text">{{item.content}}</text>
          </view>
          <view class="certificate-item-footer">
            <text class="certificate-item-date">{{item.issueDate}}</text>
            <text class="certificate-item-arrow">></text>
          </view>
        </view>
      </view>
      
      <!-- ç©ºçŠ¶æ€ -->
      <view wx:if="{{!loading && certificates.length === 0}}" class="empty-state">
        <view class="empty-icon">ğŸ“œ</view>
        <text class="empty-text">æš‚æ— è¯ä¹¦</text>
        <text class="empty-desc">å®ŒæˆçŸ¥è¯†é—¯å…³æˆ–å‚è§‚æ´»åŠ¨å¯è·å¾—è¯ä¹¦</text>
      </view>
      
      <!-- åŠ è½½ä¸­ -->
      <view wx:if="{{loading}}" class="loading-container">
        <text class="loading-text">åŠ è½½ä¸­...</text>
      </view>
      
      <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
      <view class="scroll-bottom-safe"></view>
    </view>
  </scroll-view>
</view>

