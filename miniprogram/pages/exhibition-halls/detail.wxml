<!--exhibition-halls/detail.wxml-->
<view class="hall-detail-page">
  <navigation-bar title="{{hallName || 'å±•åŒºè¯¦æƒ…'}}" />
  
  <scroll-view class="scroll-content" scroll-y="{{true}}" enable-back-to-top="{{true}}" style="height: {{scrollHeight}};">
    <view class="scroll-wrapper">
      <view wx:if="{{loading}}" class="loading-container">
        <view class="loading-spinner"></view>
        <view class="loading-text">åŠ è½½ä¸­...</view>
      </view>

      <view wx:else class="hall-detail">
        <!-- å°é¢å›¾ç‰‡ -->
        <view class="hall-cover-wrapper" style="background-color: {{hall.bgColor || '#1A365D'}};">
          <image wx:if="{{hall.coverImage}}" class="hall-cover" src="{{hall.coverImage}}" mode="aspectFill" lazy-load="{{true}}" binderror="onImageError" />
          <view class="hall-cover-overlay">
            <view class="hall-title">{{hall.name}}</view>
            <view class="hall-subtitle">ç¬¬{{hall.order}}å±•åŒº Â· F{{hall.floor}}å±‚</view>
          </view>
          <view class="hall-badge" wx:if="{{hall.order}}">ç¬¬{{hall.order}}å±•åŒº</view>
        </view>

        <!-- åŸºæœ¬ä¿¡æ¯ -->
        <view class="hall-info card">
          <view class="info-title">å±•åŒºç®€ä»‹</view>
          <view class="info-description">{{hall.description}}</view>
        </view>

        <!-- è¯¦ç»†å†…å®¹ -->
        <view class="hall-content card">
          <view class="content-title">è¯¦ç»†å†…å®¹</view>
          <view class="content-text">{{hall.detail}}</view>
        </view>

        <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
        <view class="action-section">
          <!-- æ”¶è—æŒ‰é’® -->
          <view class="collection-button-wrapper">
            <button class="collection-button {{isCollected ? 'collected' : ''}}" bindtap="onToggleCollection">
              <text class="collection-icon">{{isCollected ? 'â˜…' : 'â˜†'}}</text>
              <text class="collection-text">{{isCollected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
              <text class="collection-count" wx:if="{{collectionCount > 0}}">{{collectionCount}}</text>
            </button>
          </view>
          <!-- ARä½“éªŒæŒ‰é’® -->
          <view class="ar-button-wrapper" wx:if="{{hall.arEnabled}}">
            <button class="ar-button" bindtap="onStartAR">
              <text class="ar-icon">ğŸ“·</text>
              <text class="ar-text">å¼€å§‹ARä½“éªŒ</text>
            </button>
          </view>
        </view>

        <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
        <view class="scroll-bottom-safe"></view>
      </view>
    </view>
  </scroll-view>
</view>

