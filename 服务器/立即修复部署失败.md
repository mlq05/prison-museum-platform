# 🚨 立即修复部署失败

## 错误原因

部署日志显示：
```
Error: Cannot find module './collections'
```

这说明 `collections.js` 文件没有被提交到 GitHub，导致 Docker 构建时找不到该文件。

## ✅ 立即执行步骤

### 1. 在 Git Bash 中提交文件

打开 **Git Bash**（不是 PowerShell），执行以下命令：

```bash
# 切换到项目目录
cd /f/test4

# 检查文件是否存在
ls -la 服务器/db/collections.js

# 添加所有需要提交的文件
git add 服务器/db/collections.js
git add 服务器/db/database.js
git add 服务器/routes/booking.js
git add 服务器/routes/feedback.js

# 查看将要提交的文件
git status

# 提交
git commit -m "修复：添加数据库集合服务层collections.js，更新路由使用云数据库API"

# 推送到 GitHub
git push origin main
```

### 2. 等待自动部署

代码推送到 GitHub 后，CloudBase 会自动重新部署，等待 2-5 分钟。

### 3. 验证部署

部署完成后，检查服务器日志，应该看到：
- ✅ `✅ 云数据库初始化成功`
- ✅ 不再出现 `Cannot find module './collections'` 错误

## 如果 Git Bash 不可用

如果 Git Bash 不可用，可以：

1. 打开 GitHub 网页
2. 手动上传 `服务器/db/collections.js` 文件
3. 或者在 Windows 命令提示符（CMD）中使用 Git（如果已配置 PATH）

## 重要提醒

确保以下文件都已提交到 Git：
- ✅ `服务器/db/collections.js` （核心文件，必须提交）
- ✅ `服务器/db/database.js`
- ✅ `服务器/routes/booking.js`
- ✅ `服务器/routes/feedback.js`

