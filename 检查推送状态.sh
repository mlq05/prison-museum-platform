#!/bin/bash

echo "========================================"
echo "检查代码推送状态"
echo "========================================"
echo ""

cd /d/test4

echo "1. 检查最近的提交历史（最近5条）："
echo "----------------------------------------"
git log --oneline -5
echo ""

echo "2. 检查本地和远程的差异："
echo "----------------------------------------"
git log origin/main..HEAD --oneline
if [ $? -eq 0 ] && [ -z "$(git log origin/main..HEAD --oneline)" ]; then
    echo "✅ 本地和远程已完全同步"
else
    echo "⚠️  本地有未推送的提交"
fi
echo ""

echo "3. 检查工作区状态："
echo "----------------------------------------"
git status
echo ""

echo "4. 检查最近的提交详情（最近1条）："
echo "----------------------------------------"
git log -1 --stat
echo ""

echo "========================================"
echo "总结"
echo "========================================"
echo "如果看到 'feat: 添加年度报告功能' 相关的提交，说明代码已成功推送！"
echo "可以到 GitHub 仓库查看确认，然后进行云托管部署。"
echo ""

