# ✅ 创建数据库集合 - 详细步骤

## 🎯 当前状态

✅ 你已经正确进入了**文档型数据库**页面！
✅ 页面显示"数据为空"，这是正常的（因为还没有创建集合）
✅ 你可以看到"新建集合"按钮

## 📝 操作步骤

### 步骤 1：点击"新建集合"按钮

在页面中央，点击蓝色的 **"新建集合"** 按钮。

---

### 步骤 2：创建第一个集合：`bookings`

1. **点击"新建集合"后**，会弹出一个对话框
2. 在对话框中：
   - **集合名称**：输入 `bookings`（全部小写，复数形式）
   - 其他选项保持默认即可
3. 点击 **"确定"** 或 **"创建"** 按钮
4. 等待创建完成（通常几秒钟）

✅ 创建成功后，`bookings` 会出现在集合列表中

---

### 步骤 3：创建第二个集合：`feedbacks`

1. 再次点击 **"新建集合"** 按钮
2. **集合名称**：输入 `feedbacks`（全部小写，复数形式）
3. 点击 **"确定"** 或 **"创建"**
4. 等待创建完成

✅ 创建成功后，`feedbacks` 会出现在集合列表中

---

### 步骤 4：创建第三个集合：`users`

1. 再次点击 **"新建集合"** 按钮
2. **集合名称**：输入 `users`（全部小写，复数形式）
3. 点击 **"确定"** 或 **"创建"**
4. 等待创建完成

✅ 创建成功后，`users` 会出现在集合列表中

---

### 步骤 5：验证创建成功

创建完 3 个集合后，你应该能在集合列表中看到：

- ✅ `bookings`
- ✅ `feedbacks`
- ✅ `users`

如果列表还是显示"数据为空"，尝试：
- 点击刷新图标（🔄）
- 或者刷新整个页面

---

## ⚠️ 重要提示

### 集合名称必须完全匹配：

- ✅ `bookings` （正确）
- ❌ `Booking` （错误 - 首字母大写）
- ❌ `BOOKINGS` （错误 - 全部大写）
- ❌ `booking` （错误 - 单数形式）

### 其他注意事项：

1. **不需要设置集合结构** - 文档型数据库会自动创建
2. **不需要配置字段** - 数据会在首次写入时自动创建字段
3. **创建后立即生效** - 不需要重启服务器

---

## ✅ 创建完成后

集合创建完成后：

1. **立即测试小程序功能**：
   - 创建预约 → 应该能成功（不再出现500错误）
   - 查看预约列表 → 应该能看到数据
   - 提交反馈 → 应该能成功

2. **如果还有问题**：
   - 检查集合名称是否完全匹配
   - 查看服务器日志确认错误信息
   - 确保环境变量已正确配置

---

## 🎉 完成检查清单

- [ ] 已创建 `bookings` 集合
- [ ] 已创建 `feedbacks` 集合
- [ ] 已创建 `users` 集合
- [ ] 在集合列表中验证看到了这 3 个集合
- [ ] 已测试创建预约功能（成功）
- [ ] 已测试查看预约列表（成功）
- [ ] 已测试提交反馈功能（成功）

---

## 💡 提示

如果需要创建其他集合（可选，不是紧急的），可以在主要功能修复后创建：
- `admins` - 管理员信息
- `halls` - 展区信息
- `collections` - 收藏信息
- `certificates` - 证书信息
- `visit_settings` - 时段设置
- `ar_checkins` - AR打卡

现在就点击"新建集合"按钮，开始创建第一个集合 `bookings` 吧！

